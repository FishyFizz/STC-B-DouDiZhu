C51 COMPILER V9.05   ERROR                                                                 06/28/2022 11:57:15 PAGE 1   


C51 COMPILER V9.05, COMPILATION OF MODULE ERROR
OBJECT MODULE PLACED IN .\Objects\error.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Src\error\error.c LARGE OMF2 OPTIMIZE(0,SPEED) BROWSE NOAREGS DEFINE(STC) D
                    -EBUG PRINT(.\Listings\error.lst) OBJECT(.\Objects\error.obj)

line level    source

   1          #include "error.h"
   2          #include "../display/seg_led.h"
   3          #include "../mem/mem.h"
   4          
   5          /*
   6              ERRCODES:
   7          
   8              1:  Scheduler can't find a process to run.
   9              2:  Process slots full, can't create more.
  10              10-17:  Process 0-7 should not be sleeping, but has a sleep countdown.
  11                      You have to edit sleep_check according to your process' behaviours.
  12              20: Semaphore out of bound.
  13          */
  14          XDATA u8 tmp_curr_seg;
  15          void error_spin(u8 errorcode)
  16          {
  17   1          //disable interrupts (spin forever)
  18   1          TR0 = 0;
  19   1      
  20   1          seg_set_str("ERROR   ");
  21   1      
  22   1          seg_display_content[7]=seg_decoder[errorcode%10];
  23   1          errorcode/=10;
  24   1          seg_display_content[6]=seg_decoder[errorcode%10];
  25   1          errorcode/=10;
  26   1          seg_display_content[5]=seg_decoder[errorcode%10];
  27   1          errorcode/=10;
  28   1      
  29   1          while (1)
  30   1          {
  31   2              tmp_curr_seg++;
  32   2              DISP_SEG(tmp_curr_seg & 0x7);
  33   2              delay_ms(2);
  34   2          }
  35   1      }
  36          
  37          void message_spin(u8 errorcode)
  38          {
  39   1          XDATA u16 spin = 100;
  40   1          
  41   1          XDATA u8  prev_seg_content[8];
  42   1          my_memcpy(prev_seg_content, seg_display_content,8);
  43   1      
  44   1          //disable timer0
  45   1          TR0 = 0;
  46   1      
  47   1          seg_set_str("MSG     ");
  48   1      
  49   1          seg_display_content[7]=seg_decoder[errorcode%10];
  50   1          errorcode/=10;
  51   1          seg_display_content[6]=seg_decoder[errorcode%10];
  52   1          errorcode/=10;
  53   1          seg_display_content[5]=seg_decoder[errorcode%10];
  54   1          errorcode/=10;
C51 COMPILER V9.05   ERROR                                                                 06/28/2022 11:57:15 PAGE 2   

  55   1      
  56   1          while (--spin)
  57   1          {
  58   2              tmp_curr_seg++;
  59   2              DISP_SEG(tmp_curr_seg & 0x7);
  60   2              delay_ms(2);
  61   2          }
  62   1          
  63   1          my_memcpy(seg_display_content , prev_seg_content,8);
  64   1          
  65   1          //enable timer0
  66   1          TR0 = 1;
  67   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    575    ----
   CONSTANT SIZE    =     18    ----
   XDATA SIZE       =     13    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
